25-10-08.13:39:42.886 [pool-2-thread-7 ] ERROR AiAgentController      - AutoAgentÊâßË°åÂºÇÂ∏∏ÔºöNo bean named 'ai_client_3101' available
org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'ai_client_3101' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:951)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1272)
	at com.ywzai.domain.agent.service.execute.auto.step.AbstractExecuteSupport.getChatClientById(AbstractExecuteSupport.java:47)
	at com.ywzai.domain.agent.service.execute.auto.step.Step1AnalyzerNode.doApply(Step1AnalyzerNode.java:30)
	at com.ywzai.domain.agent.service.execute.auto.step.Step1AnalyzerNode.doApply(Step1AnalyzerNode.java:1)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at com.ywzai.domain.agent.service.execute.auto.step.RootNode.doApply(RootNode.java:38)
	at com.ywzai.domain.agent.service.execute.auto.step.RootNode.doApply(RootNode.java:21)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at com.ywzai.domain.agent.service.execute.auto.AutoAgentExecuteStrategy.execute(AutoAgentExecuteStrategy.java:42)
	at com.ywzai.trigger.http.AiAgentController.lambda$0(AiAgentController.java:61)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
25-10-08.14:02:05.711 [parallel-4      ] WARN  StdioClientTransport   - Process terminated with code 1
25-10-08.14:04:29.438 [pool-2-thread-7 ] ERROR AiAgentController      - AutoAgentÊâßË°åÂºÇÂ∏∏ÔºöThe template string is not valid.
java.lang.IllegalArgumentException: The template string is not valid.
	at org.springframework.ai.template.st.StTemplateRenderer.createST(StTemplateRenderer.java:118)
	at org.springframework.ai.template.st.StTemplateRenderer.apply(StTemplateRenderer.java:103)
	at org.springframework.ai.chat.prompt.PromptTemplate.render(PromptTemplate.java:137)
	at com.ywzai.domain.agent.service.armory.factory.element.RagAnswerAdvisor.before(RagAnswerAdvisor.java:57)
	at com.ywzai.domain.agent.service.armory.factory.element.RagAnswerAdvisor.adviseCall(RagAnswerAdvisor.java:80)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
	at org.springframework.ai.chat.client.advisor.api.BaseAdvisor.adviseCall(BaseAdvisor.java:52)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.lambda$doGetObservableChatClientResponse$1(DefaultChatClient.java:469)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.doGetObservableChatClientResponse(DefaultChatClient.java:467)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.doGetObservableChatClientResponse(DefaultChatClient.java:446)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.content(DefaultChatClient.java:441)
	at com.ywzai.domain.agent.service.execute.auto.step.Step1AnalyzerNode.doApply(Step1AnalyzerNode.java:47)
	at com.ywzai.domain.agent.service.execute.auto.step.Step1AnalyzerNode.doApply(Step1AnalyzerNode.java:1)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at com.ywzai.domain.agent.service.execute.auto.step.RootNode.doApply(RootNode.java:38)
	at com.ywzai.domain.agent.service.execute.auto.step.RootNode.doApply(RootNode.java:21)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at com.ywzai.domain.agent.service.execute.auto.AutoAgentExecuteStrategy.execute(AutoAgentExecuteStrategy.java:56)
	at com.ywzai.trigger.http.AiAgentController.lambda$0(AiAgentController.java:61)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: org.stringtemplate.v4.compiler.STException: null
	at org.stringtemplate.v4.compiler.Compiler.reportMessageAndThrowSTException(Compiler.java:224)
	at org.stringtemplate.v4.compiler.Compiler.compile(Compiler.java:154)
	at org.stringtemplate.v4.STGroup.compile(STGroup.java:514)
	at org.stringtemplate.v4.ST.<init>(ST.java:162)
	at org.stringtemplate.v4.ST.<init>(ST.java:156)
	at org.springframework.ai.template.st.StTemplateRenderer.createST(StTemplateRenderer.java:115)
	... 28 common frames omitted
25-10-08.14:13:42.462 [pool-2-thread-8 ] ERROR AiAgentController      - AutoAgentÊâßË°åÂºÇÂ∏∏ÔºöThe template string is not valid.
java.lang.IllegalArgumentException: The template string is not valid.
	at org.springframework.ai.template.st.StTemplateRenderer.createST(StTemplateRenderer.java:118)
	at org.springframework.ai.template.st.StTemplateRenderer.apply(StTemplateRenderer.java:103)
	at org.springframework.ai.chat.prompt.PromptTemplate.render(PromptTemplate.java:137)
	at com.ywzai.domain.agent.service.armory.factory.element.RagAnswerAdvisor.before(RagAnswerAdvisor.java:57)
	at com.ywzai.domain.agent.service.armory.factory.element.RagAnswerAdvisor.adviseCall(RagAnswerAdvisor.java:80)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
	at org.springframework.ai.chat.client.advisor.api.BaseAdvisor.adviseCall(BaseAdvisor.java:52)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.lambda$doGetObservableChatClientResponse$1(DefaultChatClient.java:469)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.doGetObservableChatClientResponse(DefaultChatClient.java:467)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.doGetObservableChatClientResponse(DefaultChatClient.java:446)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.content(DefaultChatClient.java:441)
	at com.ywzai.domain.agent.service.execute.auto.step.Step1AnalyzerNode.doApply(Step1AnalyzerNode.java:47)
	at com.ywzai.domain.agent.service.execute.auto.step.Step1AnalyzerNode.doApply(Step1AnalyzerNode.java:1)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at com.ywzai.domain.agent.service.execute.auto.step.RootNode.doApply(RootNode.java:38)
	at com.ywzai.domain.agent.service.execute.auto.step.RootNode.doApply(RootNode.java:21)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at com.ywzai.domain.agent.service.execute.auto.AutoAgentExecuteStrategy.execute(AutoAgentExecuteStrategy.java:56)
	at com.ywzai.trigger.http.AiAgentController.lambda$0(AiAgentController.java:61)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: org.stringtemplate.v4.compiler.STException: null
	at org.stringtemplate.v4.compiler.Compiler.reportMessageAndThrowSTException(Compiler.java:224)
	at org.stringtemplate.v4.compiler.Compiler.compile(Compiler.java:154)
	at org.stringtemplate.v4.STGroup.compile(STGroup.java:514)
	at org.stringtemplate.v4.ST.<init>(ST.java:162)
	at org.stringtemplate.v4.ST.<init>(ST.java:156)
	at org.springframework.ai.template.st.StTemplateRenderer.createST(StTemplateRenderer.java:115)
	... 28 common frames omitted
25-10-08.14:13:57.314 [parallel-4      ] WARN  StdioClientTransport   - Process terminated with code 1
25-10-08.14:14:13.630 [pool-2-thread-7 ] ERROR AiAgentController      - AutoAgentÊâßË°åÂºÇÂ∏∏ÔºöThe template string is not valid.
java.lang.IllegalArgumentException: The template string is not valid.
	at org.springframework.ai.template.st.StTemplateRenderer.createST(StTemplateRenderer.java:118)
	at org.springframework.ai.template.st.StTemplateRenderer.apply(StTemplateRenderer.java:103)
	at org.springframework.ai.chat.prompt.PromptTemplate.render(PromptTemplate.java:137)
	at com.ywzai.domain.agent.service.armory.factory.element.RagAnswerAdvisor.before(RagAnswerAdvisor.java:57)
	at com.ywzai.domain.agent.service.armory.factory.element.RagAnswerAdvisor.adviseCall(RagAnswerAdvisor.java:80)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
	at org.springframework.ai.chat.client.advisor.api.BaseAdvisor.adviseCall(BaseAdvisor.java:52)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.lambda$doGetObservableChatClientResponse$1(DefaultChatClient.java:469)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.doGetObservableChatClientResponse(DefaultChatClient.java:467)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.doGetObservableChatClientResponse(DefaultChatClient.java:446)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.content(DefaultChatClient.java:441)
	at com.ywzai.domain.agent.service.execute.auto.step.Step1AnalyzerNode.doApply(Step1AnalyzerNode.java:47)
	at com.ywzai.domain.agent.service.execute.auto.step.Step1AnalyzerNode.doApply(Step1AnalyzerNode.java:1)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at com.ywzai.domain.agent.service.execute.auto.step.RootNode.doApply(RootNode.java:38)
	at com.ywzai.domain.agent.service.execute.auto.step.RootNode.doApply(RootNode.java:21)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at com.ywzai.domain.agent.service.execute.auto.AutoAgentExecuteStrategy.execute(AutoAgentExecuteStrategy.java:56)
	at com.ywzai.trigger.http.AiAgentController.lambda$0(AiAgentController.java:61)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: org.stringtemplate.v4.compiler.STException: null
	at org.stringtemplate.v4.compiler.Compiler.reportMessageAndThrowSTException(Compiler.java:224)
	at org.stringtemplate.v4.compiler.Compiler.compile(Compiler.java:154)
	at org.stringtemplate.v4.STGroup.compile(STGroup.java:514)
	at org.stringtemplate.v4.ST.<init>(ST.java:162)
	at org.stringtemplate.v4.ST.<init>(ST.java:156)
	at org.springframework.ai.template.st.StTemplateRenderer.createST(StTemplateRenderer.java:115)
	... 28 common frames omitted
25-10-08.14:17:56.069 [parallel-4      ] WARN  StdioClientTransport   - Process terminated with code 1
25-10-08.14:18:18.735 [pool-2-thread-7 ] ERROR AiAgentController      - AutoAgentÊâßË°åÂºÇÂ∏∏ÔºöThe template string is not valid.
java.lang.IllegalArgumentException: The template string is not valid.
	at org.springframework.ai.template.st.StTemplateRenderer.createST(StTemplateRenderer.java:118)
	at org.springframework.ai.template.st.StTemplateRenderer.apply(StTemplateRenderer.java:103)
	at org.springframework.ai.chat.prompt.PromptTemplate.render(PromptTemplate.java:137)
	at com.ywzai.domain.agent.service.armory.factory.element.RagAnswerAdvisor.before(RagAnswerAdvisor.java:57)
	at com.ywzai.domain.agent.service.armory.factory.element.RagAnswerAdvisor.adviseCall(RagAnswerAdvisor.java:80)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
	at org.springframework.ai.chat.client.advisor.api.BaseAdvisor.adviseCall(BaseAdvisor.java:52)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.lambda$doGetObservableChatClientResponse$1(DefaultChatClient.java:469)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.doGetObservableChatClientResponse(DefaultChatClient.java:467)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.doGetObservableChatClientResponse(DefaultChatClient.java:446)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.content(DefaultChatClient.java:441)
	at com.ywzai.domain.agent.service.execute.auto.step.Step1AnalyzerNode.doApply(Step1AnalyzerNode.java:47)
	at com.ywzai.domain.agent.service.execute.auto.step.Step1AnalyzerNode.doApply(Step1AnalyzerNode.java:21)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at com.ywzai.domain.agent.service.execute.auto.step.RootNode.doApply(RootNode.java:38)
	at com.ywzai.domain.agent.service.execute.auto.step.RootNode.doApply(RootNode.java:21)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at com.ywzai.domain.agent.service.execute.auto.AutoAgentExecuteStrategy.execute(AutoAgentExecuteStrategy.java:56)
	at com.ywzai.trigger.http.AiAgentController.lambda$0(AiAgentController.java:61)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: org.stringtemplate.v4.compiler.STException: null
	at org.stringtemplate.v4.compiler.Compiler.reportMessageAndThrowSTException(Compiler.java:224)
	at org.stringtemplate.v4.compiler.Compiler.compile(Compiler.java:154)
	at org.stringtemplate.v4.STGroup.compile(STGroup.java:514)
	at org.stringtemplate.v4.ST.<init>(ST.java:162)
	at org.stringtemplate.v4.ST.<init>(ST.java:156)
	at org.springframework.ai.template.st.StTemplateRenderer.createST(StTemplateRenderer.java:115)
	... 28 common frames omitted
25-10-08.14:24:32.053 [parallel-4      ] WARN  StdioClientTransport   - Process terminated with code 1
25-10-08.14:25:00.606 [pool-3-thread-1 ] ERROR McpClientSession       - Error handling request: JSONRPCError[code=-32603, message=parsing end time: syntax error: unexpected $end, expecting tNOW or tDIGIT at character 2 starting with "", data=null]
25-10-08.14:25:00.615 [pool-2-thread-7 ] ERROR AiAgentController      - AutoAgentÊâßË°åÂºÇÂ∏∏Ôºöparsing end time: syntax error: unexpected $end, expecting tNOW or tDIGIT at character 2 starting with ""
io.modelcontextprotocol.spec.McpError: parsing end time: syntax error: unexpected $end, expecting tNOW or tDIGIT at character 2 starting with ""
	at io.modelcontextprotocol.spec.McpClientSession.lambda$sendRequest$11(McpClientSession.java:248)
	at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:113)
	at reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99)
	at reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.onNext(FluxTimeout.java:181)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.success(MonoCreate.java:176)
	at io.modelcontextprotocol.spec.McpClientSession.handle(McpClientSession.java:136)
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onNext(FluxPeekFuseable.java:489)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.request(FluxPeekFuseable.java:437)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136)
	at reactor.core.publisher.FluxFlatMap$FlatMapInner.onSubscribe(FluxFlatMap.java:968)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onSubscribe(FluxContextWrite.java:101)
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onSubscribe(FluxPeekFuseable.java:471)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576)
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:430)
	at reactor.core.publisher.SinkManyUnicast.drainRegular(SinkManyUnicast.java:284)
	at reactor.core.publisher.SinkManyUnicast.drain(SinkManyUnicast.java:365)
	at reactor.core.publisher.SinkManyUnicast.tryEmitNext(SinkManyUnicast.java:239)
	at reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100)
	at io.modelcontextprotocol.client.transport.StdioClientTransport.lambda$startInboundProcessing$6(StdioClientTransport.java:261)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Mono.block(Mono.java:1779)
		at io.modelcontextprotocol.client.McpSyncClient.callTool(McpSyncClient.java:218)
		at org.springframework.ai.mcp.SyncMcpToolCallback.call(SyncMcpToolCallback.java:116)
		at org.springframework.ai.mcp.SyncMcpToolCallback.call(SyncMcpToolCallback.java:126)
		at org.springframework.ai.model.tool.DefaultToolCallingManager.lambda$executeToolCall$5(DefaultToolCallingManager.java:224)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.model.tool.DefaultToolCallingManager.executeToolCall(DefaultToolCallingManager.java:221)
		at org.springframework.ai.model.tool.DefaultToolCallingManager.executeToolCalls(DefaultToolCallingManager.java:137)
		at org.springframework.ai.openai.OpenAiChatModel.internalCall(OpenAiChatModel.java:244)
		at org.springframework.ai.openai.OpenAiChatModel.internalCall(OpenAiChatModel.java:254)
		at org.springframework.ai.openai.OpenAiChatModel.call(OpenAiChatModel.java:181)
		at org.springframework.ai.chat.client.advisor.ChatModelCallAdvisor.adviseCall(ChatModelCallAdvisor.java:54)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
		at com.ywzai.domain.agent.service.armory.factory.element.RagAnswerAdvisor.adviseCall(RagAnswerAdvisor.java:80)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
		at org.springframework.ai.chat.client.advisor.api.BaseAdvisor.adviseCall(BaseAdvisor.java:52)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
		at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.lambda$doGetObservableChatClientResponse$1(DefaultChatClient.java:469)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.doGetObservableChatClientResponse(DefaultChatClient.java:467)
		at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.doGetObservableChatClientResponse(DefaultChatClient.java:446)
		at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.content(DefaultChatClient.java:441)
		at com.ywzai.domain.agent.service.execute.auto.step.Step1AnalyzerNode.doApply(Step1AnalyzerNode.java:47)
		at com.ywzai.domain.agent.service.execute.auto.step.Step1AnalyzerNode.doApply(Step1AnalyzerNode.java:21)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
		at com.ywzai.domain.agent.service.execute.auto.step.RootNode.doApply(RootNode.java:38)
		at com.ywzai.domain.agent.service.execute.auto.step.RootNode.doApply(RootNode.java:21)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
		at com.ywzai.domain.agent.service.execute.auto.AutoAgentExecuteStrategy.execute(AutoAgentExecuteStrategy.java:56)
		at com.ywzai.trigger.http.AiAgentController.lambda$0(AiAgentController.java:61)
		... 3 common frames omitted
25-10-08.14:52:14.880 [pool-3-thread-1 ] ERROR McpClientSession       - Error handling request: JSONRPCError[code=-32603, message=parsing end time: syntax error: unexpected $end, expecting tNOW or tDIGIT at character 2 starting with "", data=null]
25-10-08.14:52:14.880 [pool-2-thread-8 ] ERROR AiAgentController      - AutoAgentÊâßË°åÂºÇÂ∏∏Ôºöparsing end time: syntax error: unexpected $end, expecting tNOW or tDIGIT at character 2 starting with ""
io.modelcontextprotocol.spec.McpError: parsing end time: syntax error: unexpected $end, expecting tNOW or tDIGIT at character 2 starting with ""
	at io.modelcontextprotocol.spec.McpClientSession.lambda$sendRequest$11(McpClientSession.java:248)
	at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:113)
	at reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99)
	at reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.onNext(FluxTimeout.java:181)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.success(MonoCreate.java:176)
	at io.modelcontextprotocol.spec.McpClientSession.handle(McpClientSession.java:136)
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onNext(FluxPeekFuseable.java:489)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.request(FluxPeekFuseable.java:437)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136)
	at reactor.core.publisher.FluxFlatMap$FlatMapInner.onSubscribe(FluxFlatMap.java:968)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onSubscribe(FluxContextWrite.java:101)
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onSubscribe(FluxPeekFuseable.java:471)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576)
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:430)
	at reactor.core.publisher.SinkManyUnicast.drainRegular(SinkManyUnicast.java:284)
	at reactor.core.publisher.SinkManyUnicast.drain(SinkManyUnicast.java:365)
	at reactor.core.publisher.SinkManyUnicast.tryEmitNext(SinkManyUnicast.java:239)
	at reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100)
	at io.modelcontextprotocol.client.transport.StdioClientTransport.lambda$startInboundProcessing$6(StdioClientTransport.java:261)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Mono.block(Mono.java:1779)
		at io.modelcontextprotocol.client.McpSyncClient.callTool(McpSyncClient.java:218)
		at org.springframework.ai.mcp.SyncMcpToolCallback.call(SyncMcpToolCallback.java:116)
		at org.springframework.ai.mcp.SyncMcpToolCallback.call(SyncMcpToolCallback.java:126)
		at org.springframework.ai.model.tool.DefaultToolCallingManager.lambda$executeToolCall$5(DefaultToolCallingManager.java:224)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.model.tool.DefaultToolCallingManager.executeToolCall(DefaultToolCallingManager.java:221)
		at org.springframework.ai.model.tool.DefaultToolCallingManager.executeToolCalls(DefaultToolCallingManager.java:137)
		at org.springframework.ai.openai.OpenAiChatModel.internalCall(OpenAiChatModel.java:244)
		at org.springframework.ai.openai.OpenAiChatModel.internalCall(OpenAiChatModel.java:254)
		at org.springframework.ai.openai.OpenAiChatModel.call(OpenAiChatModel.java:181)
		at org.springframework.ai.chat.client.advisor.ChatModelCallAdvisor.adviseCall(ChatModelCallAdvisor.java:54)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
		at com.ywzai.domain.agent.service.armory.factory.element.RagAnswerAdvisor.adviseCall(RagAnswerAdvisor.java:80)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
		at org.springframework.ai.chat.client.advisor.api.BaseAdvisor.adviseCall(BaseAdvisor.java:52)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
		at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.lambda$doGetObservableChatClientResponse$1(DefaultChatClient.java:469)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.doGetObservableChatClientResponse(DefaultChatClient.java:467)
		at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.doGetObservableChatClientResponse(DefaultChatClient.java:446)
		at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.content(DefaultChatClient.java:441)
		at com.ywzai.domain.agent.service.execute.auto.step.Step2PrecisionExecutorNode.doApply(Step2PrecisionExecutorNode.java:46)
		at com.ywzai.domain.agent.service.execute.auto.step.Step2PrecisionExecutorNode.doApply(Step2PrecisionExecutorNode.java:20)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
		at com.ywzai.domain.agent.service.execute.auto.step.Step1AnalyzerNode.doApply(Step1AnalyzerNode.java:60)
		at com.ywzai.domain.agent.service.execute.auto.step.Step1AnalyzerNode.doApply(Step1AnalyzerNode.java:21)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
		at com.ywzai.domain.agent.service.execute.auto.step.RootNode.doApply(RootNode.java:38)
		at com.ywzai.domain.agent.service.execute.auto.step.RootNode.doApply(RootNode.java:21)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
		at com.ywzai.domain.agent.service.execute.auto.AutoAgentExecuteStrategy.execute(AutoAgentExecuteStrategy.java:56)
		at com.ywzai.trigger.http.AiAgentController.lambda$0(AiAgentController.java:61)
		... 3 common frames omitted
25-10-08.15:13:51.252 [parallel-2      ] WARN  StdioClientTransport   - Process terminated with code 1
25-10-08.15:15:26.467 [parallel-4      ] WARN  StdioClientTransport   - Process terminated with code 1
25-10-08.15:16:45.596 [MainHikariPool housekeeper] WARN  HikariPool             - MainHikariPool - Thread starvation or clock leap detected (housekeeper delta=1m11s638ms300¬µs700ns).
25-10-08.15:23:41.448 [MainHikariPool housekeeper] WARN  HikariPool             - MainHikariPool - Thread starvation or clock leap detected (housekeeper delta=1m55s757ms522¬µs700ns).
25-10-08.15:24:02.676 [pool-3-thread-1 ] ERROR McpClientSession       - Error handling request: JSONRPCError[code=-32603, message=parsing end time: syntax error: unexpected $end, expecting tNOW or tDIGIT at character 2 starting with "", data=null]
25-10-08.15:24:02.684 [pool-2-thread-7 ] ERROR AiAgentController      - AutoAgentÊâßË°åÂºÇÂ∏∏Ôºöparsing end time: syntax error: unexpected $end, expecting tNOW or tDIGIT at character 2 starting with ""
io.modelcontextprotocol.spec.McpError: parsing end time: syntax error: unexpected $end, expecting tNOW or tDIGIT at character 2 starting with ""
	at io.modelcontextprotocol.spec.McpClientSession.lambda$sendRequest$11(McpClientSession.java:248)
	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
Assembly trace from producer [reactor.core.publisher.MonoHandleFuseable] :
	reactor.core.publisher.Mono.handle(Mono.java:3295)
	io.modelcontextprotocol.spec.McpClientSession.sendRequest(McpClientSession.java:245)
Error has been observed at the following site(s):
	*___Mono.handle ‚á¢ at io.modelcontextprotocol.spec.McpClientSession.sendRequest(McpClientSession.java:245)
	*__Mono.flatMap ‚á¢ at io.modelcontextprotocol.client.McpAsyncClient.withInitializationCheck(McpAsyncClient.java:379)
Original Stack Trace:
		at io.modelcontextprotocol.spec.McpClientSession.lambda$sendRequest$11(McpClientSession.java:248)
		at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:179)
		at reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99)
		at reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.onNext(FluxTimeout.java:181)
		at reactor.core.publisher.MonoCreate$DefaultMonoSink.success(MonoCreate.java:176)
		at io.modelcontextprotocol.spec.McpClientSession.handle(McpClientSession.java:136)
		at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:840)
		at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
		at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.request(FluxPeekFuseable.java:783)
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136)
		at reactor.core.publisher.FluxFlatMap$FlatMapInner.onSubscribe(FluxFlatMap.java:968)
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onSubscribe(FluxContextWrite.java:101)
		at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onSubscribe(FluxPeekFuseable.java:816)
		at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
		at reactor.core.publisher.Mono.subscribe(Mono.java:4576)
		at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:430)
		at reactor.core.publisher.SinkManyUnicast.drainRegular(SinkManyUnicast.java:284)
		at reactor.core.publisher.SinkManyUnicast.drain(SinkManyUnicast.java:365)
		at reactor.core.publisher.SinkManyUnicast.tryEmitNext(SinkManyUnicast.java:239)
		at reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100)
		at io.modelcontextprotocol.client.transport.StdioClientTransport.lambda$startInboundProcessing$6(StdioClientTransport.java:261)
		at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68)
		at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28)
		at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264)
		at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
		at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
		at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
		at java.base/java.lang.Thread.run(Thread.java:842)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Mono.block(Mono.java:1779)
		at io.modelcontextprotocol.client.McpSyncClient.callTool(McpSyncClient.java:218)
		at org.springframework.ai.mcp.SyncMcpToolCallback.call(SyncMcpToolCallback.java:116)
		at org.springframework.ai.mcp.SyncMcpToolCallback.call(SyncMcpToolCallback.java:126)
		at org.springframework.ai.model.tool.DefaultToolCallingManager.lambda$executeToolCall$5(DefaultToolCallingManager.java:224)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.model.tool.DefaultToolCallingManager.executeToolCall(DefaultToolCallingManager.java:221)
		at org.springframework.ai.model.tool.DefaultToolCallingManager.executeToolCalls(DefaultToolCallingManager.java:137)
		at org.springframework.ai.openai.OpenAiChatModel.internalCall(OpenAiChatModel.java:244)
		at org.springframework.ai.openai.OpenAiChatModel.internalCall(OpenAiChatModel.java:254)
		at org.springframework.ai.openai.OpenAiChatModel.call(OpenAiChatModel.java:181)
		at org.springframework.ai.chat.client.advisor.ChatModelCallAdvisor.adviseCall(ChatModelCallAdvisor.java:54)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
		at com.ywzai.domain.agent.service.armory.factory.element.RagAnswerAdvisor.adviseCall(RagAnswerAdvisor.java:81)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
		at org.springframework.ai.chat.client.advisor.api.BaseAdvisor.adviseCall(BaseAdvisor.java:52)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
		at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.lambda$doGetObservableChatClientResponse$1(DefaultChatClient.java:469)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.doGetObservableChatClientResponse(DefaultChatClient.java:467)
		at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.doGetObservableChatClientResponse(DefaultChatClient.java:446)
		at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.content(DefaultChatClient.java:441)
		at com.ywzai.domain.agent.service.execute.auto.step.Step2PrecisionExecutorNode.doApply(Step2PrecisionExecutorNode.java:46)
		at com.ywzai.domain.agent.service.execute.auto.step.Step2PrecisionExecutorNode.doApply(Step2PrecisionExecutorNode.java:20)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
		at com.ywzai.domain.agent.service.execute.auto.step.Step1AnalyzerNode.doApply(Step1AnalyzerNode.java:60)
		at com.ywzai.domain.agent.service.execute.auto.step.Step1AnalyzerNode.doApply(Step1AnalyzerNode.java:21)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
		at com.ywzai.domain.agent.service.execute.auto.step.RootNode.doApply(RootNode.java:38)
		at com.ywzai.domain.agent.service.execute.auto.step.RootNode.doApply(RootNode.java:21)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
		at com.ywzai.domain.agent.service.execute.auto.AutoAgentExecuteStrategy.execute(AutoAgentExecuteStrategy.java:56)
		at com.ywzai.trigger.http.AiAgentController.lambda$0(AiAgentController.java:61)
		at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
		at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
		at java.base/java.lang.Thread.run(Thread.java:842)
25-10-08.15:43:32.551 [PgVectorHikariPool housekeeper] WARN  HikariPool             - PgVectorHikariPool - Thread starvation or clock leap detected (housekeeper delta=11m49s513ms444¬µs500ns).
25-10-08.15:43:32.551 [MainHikariPool housekeeper] WARN  HikariPool             - MainHikariPool - Thread starvation or clock leap detected (housekeeper delta=11m51s14ms744¬µs600ns).
25-10-08.15:45:27.283 [pool-3-thread-1 ] ERROR McpClientSession       - Error handling request: JSONRPCError[code=-32603, message=parsing end time: syntax error: unexpected $end, expecting tNOW or tDIGIT at character 2 starting with "", data=null]
25-10-08.15:45:27.291 [pool-2-thread-7 ] ERROR AiAgentController      - AutoAgentÊâßË°åÂºÇÂ∏∏Ôºöparsing end time: syntax error: unexpected $end, expecting tNOW or tDIGIT at character 2 starting with ""
io.modelcontextprotocol.spec.McpError: parsing end time: syntax error: unexpected $end, expecting tNOW or tDIGIT at character 2 starting with ""
	at io.modelcontextprotocol.spec.McpClientSession.lambda$sendRequest$11(McpClientSession.java:248)
	at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:113)
	at reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99)
	at reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.onNext(FluxTimeout.java:181)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.success(MonoCreate.java:176)
	at io.modelcontextprotocol.spec.McpClientSession.handle(McpClientSession.java:136)
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onNext(FluxPeekFuseable.java:489)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.request(FluxPeekFuseable.java:437)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136)
	at reactor.core.publisher.FluxFlatMap$FlatMapInner.onSubscribe(FluxFlatMap.java:968)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onSubscribe(FluxContextWrite.java:101)
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onSubscribe(FluxPeekFuseable.java:471)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576)
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:430)
	at reactor.core.publisher.SinkManyUnicast.drainRegular(SinkManyUnicast.java:284)
	at reactor.core.publisher.SinkManyUnicast.drain(SinkManyUnicast.java:365)
	at reactor.core.publisher.SinkManyUnicast.tryEmitNext(SinkManyUnicast.java:239)
	at reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100)
	at io.modelcontextprotocol.client.transport.StdioClientTransport.lambda$startInboundProcessing$6(StdioClientTransport.java:261)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Mono.block(Mono.java:1779)
		at io.modelcontextprotocol.client.McpSyncClient.callTool(McpSyncClient.java:218)
		at org.springframework.ai.mcp.SyncMcpToolCallback.call(SyncMcpToolCallback.java:116)
		at org.springframework.ai.mcp.SyncMcpToolCallback.call(SyncMcpToolCallback.java:126)
		at org.springframework.ai.model.tool.DefaultToolCallingManager.lambda$executeToolCall$5(DefaultToolCallingManager.java:224)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.model.tool.DefaultToolCallingManager.executeToolCall(DefaultToolCallingManager.java:221)
		at org.springframework.ai.model.tool.DefaultToolCallingManager.executeToolCalls(DefaultToolCallingManager.java:137)
		at org.springframework.ai.openai.OpenAiChatModel.internalCall(OpenAiChatModel.java:244)
		at org.springframework.ai.openai.OpenAiChatModel.internalCall(OpenAiChatModel.java:254)
		at org.springframework.ai.openai.OpenAiChatModel.call(OpenAiChatModel.java:181)
		at org.springframework.ai.chat.client.advisor.ChatModelCallAdvisor.adviseCall(ChatModelCallAdvisor.java:54)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
		at com.ywzai.domain.agent.service.armory.factory.element.RagAnswerAdvisor.adviseCall(RagAnswerAdvisor.java:81)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
		at org.springframework.ai.chat.client.advisor.api.BaseAdvisor.adviseCall(BaseAdvisor.java:52)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
		at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.lambda$doGetObservableChatClientResponse$1(DefaultChatClient.java:469)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.doGetObservableChatClientResponse(DefaultChatClient.java:467)
		at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.doGetObservableChatClientResponse(DefaultChatClient.java:446)
		at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.content(DefaultChatClient.java:441)
		at com.ywzai.domain.agent.service.execute.auto.step.Step2PrecisionExecutorNode.doApply(Step2PrecisionExecutorNode.java:46)
		at com.ywzai.domain.agent.service.execute.auto.step.Step2PrecisionExecutorNode.doApply(Step2PrecisionExecutorNode.java:20)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
		at com.ywzai.domain.agent.service.execute.auto.step.Step1AnalyzerNode.doApply(Step1AnalyzerNode.java:60)
		at com.ywzai.domain.agent.service.execute.auto.step.Step1AnalyzerNode.doApply(Step1AnalyzerNode.java:21)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
		at com.ywzai.domain.agent.service.execute.auto.step.RootNode.doApply(RootNode.java:38)
		at com.ywzai.domain.agent.service.execute.auto.step.RootNode.doApply(RootNode.java:21)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
		at com.ywzai.domain.agent.service.execute.auto.AutoAgentExecuteStrategy.execute(AutoAgentExecuteStrategy.java:56)
		at com.ywzai.trigger.http.AiAgentController.lambda$0(AiAgentController.java:61)
		... 3 common frames omitted
25-10-08.15:51:29.191 [parallel-16     ] WARN  StdioClientTransport   - Process terminated with code 1
25-10-08.15:55:03.040 [pool-2-thread-7 ] WARN  Step3QualitySupervisorNode - ‚ö†Ô∏è Êó†Ê≥ïËØÜÂà´ÁöÑË¥®ÈáèÊ£ÄÊü•ÁªìÊûú: ## üö® ÊãºÂõ¢Á≥ªÁªüÁõëÊéßÊï∞ÊçÆË¥®ÈáèÁõëÁù£Êä•Âëä üö®

### üîç MCPÈ™åËØÅËÆ∞ÂΩï
ÈÄöËøáÂº∫Âà∂MCPÂ∑•ÂÖ∑Ë∞ÉÁî®ÔºåÊàëËé∑Âèñ‰∫ÜÁúüÂÆûÁöÑÁõëÊéßÊï∞ÊçÆÔºö

1. **Êï∞ÊçÆÊ∫êÈ™åËØÅ**: ‚úÖ PrometheusÊï∞ÊçÆÊ∫ê (UID: PBFA97CFB590B2093) ËøûÊé•Ê≠£Â∏∏
2. **Á≥ªÁªüËØÜÂà´È™åËØÅ**: ‚úÖ ÊàêÂäüËØÜÂà´ `group-buy-market-app` Á≥ªÁªü (jobÊ†áÁ≠æ)
3. **ÊåáÊ†áÂèØÁî®ÊÄßÈ™åËØÅ**: ‚úÖ ÂèëÁé∞HTTPËØ∑Ê±ÇÊåáÊ†á `http_server_requests_seconds_count/sum`
4. **Êé•Âè£ÂèëÁé∞È™åËØÅ**: ‚úÖ ËØÜÂà´Âà∞3‰∏™‰∏ªË¶ÅÊé•Âè£Á´ØÁÇπ

### üìä ÂΩìÂâçÁä∂ÂÜµÂàÜÊûê

**Á≥ªÁªüËøêË°åÁä∂ÊÄÅ**: ‚úÖ Á≥ªÁªüÂú®Á∫ø‰∏îÊ≠£Â∏∏ËøêË°å (up=1)

**Êé•Âè£TPS/QPSÊï∞ÊçÆ**:
- **`/actuator/prometheus`** (GET): 
  - QPS: ~0.067 ËØ∑Ê±Ç/Áßí
  - Âπ≥ÂùáÂìçÂ∫îÊó∂Èó¥: 54-95ms (Ê≥¢Âä®ËæÉÂ§ß)
  
- **`/api/v1/gbm/index/query_group_buy_market_config`** (POST):
  - QPS: 0 (ËøáÂéª1Â∞èÊó∂ÂÜÖÊó†ËØ∑Ê±Ç)
  - Â≠òÂú®ClientAbortExceptionÂºÇÂ∏∏ËØ∑Ê±Ç (18Ê¨°)

- **`/api/v1/gbm/dcc/update_config`** (GET):
  - QPS: 0 (ËøáÂéª1Â∞èÊó∂ÂÜÖÊó†ËØ∑Ê±Ç)

**ÂÖ≥ÈîÆÂèëÁé∞**:
1. **Êï∞ÊçÆË¥®ÈáèÈóÆÈ¢ò**: ÂéüÂßãÊâßË°åÁªìÊûúÂÆåÂÖ®ÈîôËØØÔºÅÁ≥ªÁªüÂÆûÈôÖÊúâHTTPÁõëÊéßÊåáÊ†áÔºå‰ΩÜ‰πãÂâçÁöÑÂàÜÊûêÈîôËØØÂú∞Êü•ËØ¢‰∫Ünode_exporterÊåáÊ†á
2. **Êé•Âè£Ê¥ªË∑ÉÂ∫¶**: Âè™ÊúâPrometheusÁõëÊéßÁ´ØÁÇπÊúâÊ¥ªË∑ÉËØ∑Ê±ÇÔºå‰∏öÂä°Êé•Âè£Âú®ËøáÂéª1Â∞èÊó∂Êó†ËØ∑Ê±Ç
3. **ÂºÇÂ∏∏ÊÉÖÂÜµ**: Â≠òÂú®18Ê¨°ClientAbortExceptionÂºÇÂ∏∏ÔºåË°®ÊòéÂÆ¢Êà∑Á´ØËøûÊé•‰∏≠Êñ≠

### üéØ ‰∏ã‰∏ÄÊ≠•Á≠ñÁï•

**Á´ãÂç≥ÊâßË°åÁöÑÊï∞ÊçÆËé∑ÂèñËÆ°Âàí**:
1. **Êâ©Â±ïÊó∂Èó¥ËåÉÂõ¥**: Êü•ËØ¢ËøáÂéª24Â∞èÊó∂ÁöÑÊï∞ÊçÆ‰ª•Ëé∑ÂèñÊõ¥ÂÆåÊï¥ÁöÑ‰∏öÂä°Êé•Âè£‰ΩøÁî®ÊÉÖÂÜµ
2. **ÈîôËØØÁéáÂàÜÊûê**: ‰∏ìÈó®Êü•ËØ¢ÈîôËØØÁä∂ÊÄÅÁ†ÅÂíåÂºÇÂ∏∏ÊÉÖÂÜµÁöÑËØ¶ÁªÜÊï∞ÊçÆ
3. **ÊÄßËÉΩÂàÜ‰ΩçÊï∞**: Ëé∑Âèñ95%„ÄÅ99%ÂàÜ‰ΩçÊï∞ÁöÑÂìçÂ∫îÊó∂Èó¥Êï∞ÊçÆ
4. **‰∏öÂä°ÊåáÊ†áÂÖ≥ËÅî**: Ê£ÄÊü•ÊòØÂê¶ÊúâÂÖ∂‰ªñ‰∏öÂä°Áõ∏ÂÖ≥ÁöÑËá™ÂÆö‰πâÊåáÊ†á

**‰ºòÂÖàÁ∫ßÊéíÂ∫è**:
- È´ò‰ºòÂÖàÁ∫ß: È™åËØÅ‰∏öÂä°Êé•Âè£ÁöÑÁúüÂÆû‰ΩøÁî®ÊÉÖÂÜµÂíåÊÄßËÉΩÊï∞ÊçÆ
- ‰∏≠‰ºòÂÖàÁ∫ß: ÂàÜÊûêClientAbortExceptionÂºÇÂ∏∏ÁöÑÊ†πÊú¨ÂéüÂõ†  
- ‰Ωé‰ºòÂÖàÁ∫ß: ‰ºòÂåñÊü•ËØ¢ÊÄßËÉΩÂíåÊï∞ÊçÆÂ±ïÁ§∫Ê†ºÂºè

### üîß ÊâßË°åËÆ°Âàí

**MCPÂ∑•ÂÖ∑Ë∞ÉÁî®Â∫èÂàó**:
1. Êü•ËØ¢ËøáÂéª24Â∞èÊó∂ÁöÑ‰∏öÂä°Êé•Âè£ËØ∑Ê±ÇÈáè: `rate(http_server_requests_seconds_count{job="group-buy-market-app", uri=~"/api/.*"}[5m])`
2. Ëé∑ÂèñÈîôËØØÁéáÊï∞ÊçÆ: `rate(http_server_requests_seconds_count{job="group-buy-market-app", status=~"5.."}[5m])`
3. ËÆ°ÁÆóÂìçÂ∫îÊó∂Èó¥ÂàÜ‰ΩçÊï∞: ‰ΩøÁî®Áõ¥ÊñπÂõæÂàÜ‰ΩçÊï∞ËÆ°ÁÆó
4. È™åËØÅÁ≥ªÁªüÊ†áÁ≠æÂÆåÊï¥ÊÄß: Á°Æ‰øùÊâÄÊúâÁõ∏ÂÖ≥Ê†áÁ≠æÁª¥Â∫¶ÈÉΩÂ∑≤ÂèëÁé∞

**È£éÈô©ËØÑ‰º∞**:
- Êï∞ÊçÆÁ®ÄÁñèÈ£éÈô©: ‰∏öÂä°Êé•Âè£ËØ∑Ê±ÇÈáèÂèØËÉΩÂæà‰ΩéÔºåÈúÄË¶ÅË∞ÉÊï¥Êó∂Èó¥Á™óÂè£
- Ê†áÁ≠æ‰∏çÂÆåÊï¥È£éÈô©: ÂèØËÉΩÂ≠òÂú®ÂÖ∂‰ªñÊú™ÂèëÁé∞ÁöÑÊé•Âè£Á´ØÁÇπ
- ÂºÇÂ∏∏Â§ÑÁêÜÈ£éÈô©: ClientAbortExceptionÂèØËÉΩÂΩ±ÂìçÊï∞ÊçÆÂáÜÁ°ÆÊÄß

### üìà Ë¥®ÈáèËØÑÂàÜ

**ÁõëÊéßÊï∞ÊçÆË¥®ÈáèÁªºÂêàËØÑÂàÜ**: 85ÂàÜ üü° ËâØÂ•Ω

**ÂêÑÁª¥Â∫¶Ë¥®ÈáèÂæóÂàÜ**:
- Á≥ªÁªüÂêçÁß∞ËØÜÂà´Ë¥®Èáè: 100ÂàÜ ‚úÖ
- TPS/QPSÊï∞ÊçÆË¥®Èáè: 80ÂàÜ üü° (Êï∞ÊçÆÁ®ÄÁñè‰ΩÜÂáÜÁ°Æ)
- ÂìçÂ∫îÊó∂Èó¥Êï∞ÊçÆË¥®Èáè: 85ÂàÜ üü° (ÈÉ®ÂàÜÊé•Âè£Êó†Êï∞ÊçÆ)
- ÈîôËØØÁéáÊï∞ÊçÆË¥®Èáè: 75ÂàÜ üü† (ÈúÄË¶ÅËøõ‰∏ÄÊ≠•È™åËØÅ)
- MCPÂ∑•ÂÖ∑Ë∞ÉÁî®Ë¥®Èáè: 100ÂàÜ ‚úÖ

**ÂÆåÊàêÂ∫¶ËØÑ‰º∞**: 60%
**‰ªªÂä°Áä∂ÊÄÅ**: CONTINUE
**Á≠ñÁï•Ë∞ÉÊï¥**: ‰ªéÂü∫Á°ÄÊåáÊ†áÂèëÁé∞ËΩ¨ÂêëÊ∑±Â∫¶‰∏öÂä°ÊåáÊ†áÂàÜÊûêÔºåÈáçÁÇπÂÖ≥Ê≥®ÂÆûÈôÖ‰∏öÂä°Êé•Âè£ÁöÑÊÄßËÉΩÊï∞ÊçÆ

### ‚ö†Ô∏è ÈáçË¶ÅÊèêÈÜí
ÂéüÂßãÊâßË°åÁªìÊûúÂ≠òÂú®‰∏•ÈáçË¥®ÈáèÈóÆÈ¢òÔºåÈîôËØØÂú∞ÂÅáËÆæÁ≥ªÁªü‰ΩøÁî®node_exporterÁõëÊéßÔºåËÄåÂÆûÈôÖÁ≥ªÁªü‰ΩøÁî®ÁöÑÊòØSpring Boot ActuatorÁöÑHTTPÊåáÊ†á„ÄÇËøôÂá∏Êòæ‰∫ÜÂº∫Âà∂MCPÈ™åËØÅÁöÑÂøÖË¶ÅÊÄßÔºÅ
25-10-08.15:55:13.013 [pool-3-thread-1 ] ERROR McpClientSession       - Error handling request: JSONRPCError[code=-32603, message=parsing end time: syntax error: unexpected $end, expecting tNOW or tDIGIT at character 2 starting with "", data=null]
25-10-08.15:55:13.028 [pool-2-thread-7 ] ERROR AiAgentController      - AutoAgentÊâßË°åÂºÇÂ∏∏Ôºöparsing end time: syntax error: unexpected $end, expecting tNOW or tDIGIT at character 2 starting with ""
io.modelcontextprotocol.spec.McpError: parsing end time: syntax error: unexpected $end, expecting tNOW or tDIGIT at character 2 starting with ""
	at io.modelcontextprotocol.spec.McpClientSession.lambda$sendRequest$11(McpClientSession.java:248)
	at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:113)
	at reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99)
	at reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.onNext(FluxTimeout.java:181)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.success(MonoCreate.java:176)
	at io.modelcontextprotocol.spec.McpClientSession.handle(McpClientSession.java:136)
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onNext(FluxPeekFuseable.java:489)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.request(FluxPeekFuseable.java:437)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136)
	at reactor.core.publisher.FluxFlatMap$FlatMapInner.onSubscribe(FluxFlatMap.java:968)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onSubscribe(FluxContextWrite.java:101)
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onSubscribe(FluxPeekFuseable.java:471)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576)
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:430)
	at reactor.core.publisher.SinkManyUnicast.drainRegular(SinkManyUnicast.java:284)
	at reactor.core.publisher.SinkManyUnicast.drain(SinkManyUnicast.java:365)
	at reactor.core.publisher.SinkManyUnicast.tryEmitNext(SinkManyUnicast.java:239)
	at reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100)
	at io.modelcontextprotocol.client.transport.StdioClientTransport.lambda$startInboundProcessing$6(StdioClientTransport.java:261)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Mono.block(Mono.java:1779)
		at io.modelcontextprotocol.client.McpSyncClient.callTool(McpSyncClient.java:218)
		at org.springframework.ai.mcp.SyncMcpToolCallback.call(SyncMcpToolCallback.java:116)
		at org.springframework.ai.mcp.SyncMcpToolCallback.call(SyncMcpToolCallback.java:126)
		at org.springframework.ai.model.tool.DefaultToolCallingManager.lambda$executeToolCall$5(DefaultToolCallingManager.java:224)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.model.tool.DefaultToolCallingManager.executeToolCall(DefaultToolCallingManager.java:221)
		at org.springframework.ai.model.tool.DefaultToolCallingManager.executeToolCalls(DefaultToolCallingManager.java:137)
		at org.springframework.ai.openai.OpenAiChatModel.internalCall(OpenAiChatModel.java:244)
		at org.springframework.ai.openai.OpenAiChatModel.internalCall(OpenAiChatModel.java:254)
		at org.springframework.ai.openai.OpenAiChatModel.call(OpenAiChatModel.java:181)
		at org.springframework.ai.chat.client.advisor.ChatModelCallAdvisor.adviseCall(ChatModelCallAdvisor.java:54)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
		at com.ywzai.domain.agent.service.armory.factory.element.RagAnswerAdvisor.adviseCall(RagAnswerAdvisor.java:87)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
		at org.springframework.ai.chat.client.advisor.api.BaseAdvisor.adviseCall(BaseAdvisor.java:52)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
		at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.lambda$doGetObservableChatClientResponse$1(DefaultChatClient.java:469)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.doGetObservableChatClientResponse(DefaultChatClient.java:467)
		at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.doGetObservableChatClientResponse(DefaultChatClient.java:446)
		at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.content(DefaultChatClient.java:441)
		at com.ywzai.domain.agent.service.execute.auto.step.Step1AnalyzerNode.doApply(Step1AnalyzerNode.java:47)
		at com.ywzai.domain.agent.service.execute.auto.step.Step1AnalyzerNode.doApply(Step1AnalyzerNode.java:21)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
		at com.ywzai.domain.agent.service.execute.auto.step.Step3QualitySupervisorNode.doApply(Step3QualitySupervisorNode.java:84)
		at com.ywzai.domain.agent.service.execute.auto.step.Step3QualitySupervisorNode.doApply(Step3QualitySupervisorNode.java:20)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
		at com.ywzai.domain.agent.service.execute.auto.step.Step2PrecisionExecutorNode.doApply(Step2PrecisionExecutorNode.java:57)
		at com.ywzai.domain.agent.service.execute.auto.step.Step2PrecisionExecutorNode.doApply(Step2PrecisionExecutorNode.java:20)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
		at com.ywzai.domain.agent.service.execute.auto.step.Step1AnalyzerNode.doApply(Step1AnalyzerNode.java:60)
		at com.ywzai.domain.agent.service.execute.auto.step.Step1AnalyzerNode.doApply(Step1AnalyzerNode.java:21)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
		at com.ywzai.domain.agent.service.execute.auto.step.RootNode.doApply(RootNode.java:38)
		at com.ywzai.domain.agent.service.execute.auto.step.RootNode.doApply(RootNode.java:21)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
		at com.ywzai.domain.agent.service.execute.auto.AutoAgentExecuteStrategy.execute(AutoAgentExecuteStrategy.java:56)
		at com.ywzai.trigger.http.AiAgentController.lambda$0(AiAgentController.java:61)
		... 3 common frames omitted
25-10-08.16:10:04.653 [parallel-20     ] WARN  StdioClientTransport   - Process terminated with code 1
25-10-08.16:11:01.944 [pool-3-thread-1 ] ERROR McpClientSession       - Error handling request: JSONRPCError[code=-32603, message=parsing end time: syntax error: unexpected $end, expecting tNOW or tDIGIT at character 2 starting with "", data=null]
25-10-08.16:11:01.951 [pool-2-thread-7 ] ERROR AiAgentController      - AutoAgentÊâßË°åÂºÇÂ∏∏Ôºöparsing end time: syntax error: unexpected $end, expecting tNOW or tDIGIT at character 2 starting with ""
io.modelcontextprotocol.spec.McpError: parsing end time: syntax error: unexpected $end, expecting tNOW or tDIGIT at character 2 starting with ""
	at io.modelcontextprotocol.spec.McpClientSession.lambda$sendRequest$11(McpClientSession.java:248)
	at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:113)
	at reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99)
	at reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.onNext(FluxTimeout.java:181)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.success(MonoCreate.java:176)
	at io.modelcontextprotocol.spec.McpClientSession.handle(McpClientSession.java:136)
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onNext(FluxPeekFuseable.java:489)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.request(FluxPeekFuseable.java:437)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136)
	at reactor.core.publisher.FluxFlatMap$FlatMapInner.onSubscribe(FluxFlatMap.java:968)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onSubscribe(FluxContextWrite.java:101)
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onSubscribe(FluxPeekFuseable.java:471)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576)
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:430)
	at reactor.core.publisher.SinkManyUnicast.drainRegular(SinkManyUnicast.java:284)
	at reactor.core.publisher.SinkManyUnicast.drain(SinkManyUnicast.java:365)
	at reactor.core.publisher.SinkManyUnicast.tryEmitNext(SinkManyUnicast.java:239)
	at reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100)
	at io.modelcontextprotocol.client.transport.StdioClientTransport.lambda$startInboundProcessing$6(StdioClientTransport.java:261)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Mono.block(Mono.java:1779)
		at io.modelcontextprotocol.client.McpSyncClient.callTool(McpSyncClient.java:218)
		at org.springframework.ai.mcp.SyncMcpToolCallback.call(SyncMcpToolCallback.java:116)
		at org.springframework.ai.mcp.SyncMcpToolCallback.call(SyncMcpToolCallback.java:126)
		at org.springframework.ai.model.tool.DefaultToolCallingManager.lambda$executeToolCall$5(DefaultToolCallingManager.java:224)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.model.tool.DefaultToolCallingManager.executeToolCall(DefaultToolCallingManager.java:221)
		at org.springframework.ai.model.tool.DefaultToolCallingManager.executeToolCalls(DefaultToolCallingManager.java:137)
		at org.springframework.ai.openai.OpenAiChatModel.internalCall(OpenAiChatModel.java:244)
		at org.springframework.ai.openai.OpenAiChatModel.internalCall(OpenAiChatModel.java:254)
		at org.springframework.ai.openai.OpenAiChatModel.call(OpenAiChatModel.java:181)
		at org.springframework.ai.chat.client.advisor.ChatModelCallAdvisor.adviseCall(ChatModelCallAdvisor.java:54)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
		at com.ywzai.domain.agent.service.armory.factory.element.RagAnswerAdvisor.adviseCall(RagAnswerAdvisor.java:87)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
		at org.springframework.ai.chat.client.advisor.api.BaseAdvisor.adviseCall(BaseAdvisor.java:52)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
		at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.lambda$doGetObservableChatClientResponse$1(DefaultChatClient.java:469)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.doGetObservableChatClientResponse(DefaultChatClient.java:467)
		at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.doGetObservableChatClientResponse(DefaultChatClient.java:446)
		at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.content(DefaultChatClient.java:441)
		at com.ywzai.domain.agent.service.execute.auto.step.Step2PrecisionExecutorNode.doApply(Step2PrecisionExecutorNode.java:46)
		at com.ywzai.domain.agent.service.execute.auto.step.Step2PrecisionExecutorNode.doApply(Step2PrecisionExecutorNode.java:20)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
		at com.ywzai.domain.agent.service.execute.auto.step.Step1AnalyzerNode.doApply(Step1AnalyzerNode.java:61)
		at com.ywzai.domain.agent.service.execute.auto.step.Step1AnalyzerNode.doApply(Step1AnalyzerNode.java:21)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
		at com.ywzai.domain.agent.service.execute.auto.step.RootNode.doApply(RootNode.java:38)
		at com.ywzai.domain.agent.service.execute.auto.step.RootNode.doApply(RootNode.java:21)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
		at com.ywzai.domain.agent.service.execute.auto.AutoAgentExecuteStrategy.execute(AutoAgentExecuteStrategy.java:56)
		at com.ywzai.trigger.http.AiAgentController.lambda$0(AiAgentController.java:61)
		... 3 common frames omitted
25-10-08.16:11:47.056 [parallel-18     ] WARN  StdioClientTransport   - Process terminated with code 1
25-10-08.16:16:59.997 [pool-2-thread-7 ] WARN  Step3QualitySupervisorNode - ‚ö†Ô∏è Êó†Ê≥ïËØÜÂà´ÁöÑË¥®ÈáèÊ£ÄÊü•ÁªìÊûú: ## üö® MCPÈ™åËØÅË¥®ÈáèÁõëÁù£Êä•Âëä

### üîç Êï∞ÊçÆÂÆåÊï¥ÊÄßÈ™åËØÅÁªìÊûú

**‚úÖ Êï∞ÊçÆÊ∫êËøûÊé•È™åËØÅ**
- Êï∞ÊçÆÊ∫êUID: PBFA97CFB590B2093 ‚úÖ
- ËøûÊé•Áä∂ÊÄÅ: Ê≠£Â∏∏ ‚úÖ
- Êï∞ÊçÆÊ∫êÁ±ªÂûã: Prometheus ‚úÖ

**‚úÖ Á≥ªÁªüËØÜÂà´È™åËØÅ**
- Á≥ªÁªüÂêçÁß∞: group-buy-market-app ‚úÖ
- ÂÆû‰æãÁä∂ÊÄÅ: 10.105.130.18:8091 ‚úÖ
- ÊúçÂä°ÂèØÁî®ÊÄß: up=1 (100%ÂèØÁî®) ‚úÖ

**‚ö†Ô∏è ÂÖ≥ÈîÆÊåáÊ†áÁº∫Â§±ÈóÆÈ¢ò**
- **‰∏•ÈáçÈóÆÈ¢ò**: `http_server_requests_seconds_bucket` ÊåáÊ†á‰∏çÂ≠òÂú® ‚ùå
- **‰∏•ÈáçÈóÆÈ¢ò**: Áº∫Â∞ëHTTPÁä∂ÊÄÅÁ†ÅÊ†áÁ≠æ(status) ‚ùå
- **‰∏•ÈáçÈóÆÈ¢ò**: Êó†Ê≥ïËÆ°ÁÆó95ÂàÜ‰ΩçÂìçÂ∫îÊó∂Èó¥ ‚ùå

### üìä ÂÆûÈôÖÁõëÊéßÊï∞ÊçÆË¥®ÈáèËØÑ‰º∞

**TPS/QPSÊï∞ÊçÆË¥®Èáè: 65/100ÂàÜ**
- ‚úÖ Âü∫Á°ÄËØ∑Ê±ÇËÆ°Êï∞ÊåáÊ†áÂ≠òÂú®
- ‚úÖ ËÉΩÂ§üËé∑ÂèñÊé•Âè£Á∫ßÂà´ÁöÑQPSÊï∞ÊçÆ
- ‚ùå Êó†Ê≥ïÂå∫ÂàÜÊàêÂäü/Â§±Ë¥•ËØ∑Ê±Ç
- ‚ùå Áº∫Â∞ëÂÆåÊï¥ÁöÑHTTPÁä∂ÊÄÅÁ†ÅÁõëÊéß

**ÂìçÂ∫îÊó∂Èó¥Êï∞ÊçÆË¥®Èáè: 30/100ÂàÜ**
- ‚ùå Áõ¥ÊñπÂõæÊåáÊ†áÂÆåÂÖ®Áº∫Â§±
- ‚ùå Êó†Ê≥ïËÆ°ÁÆóÂàÜ‰ΩçÊï∞ÂìçÂ∫îÊó∂Èó¥
- ‚ùå Âè™ËÉΩËé∑ÂèñÂπ≥ÂùáÂìçÂ∫îÊó∂Èó¥ÔºàÂ¶ÇÊûúÂ≠òÂú®Ôºâ

**ÈîôËØØÁéáÊï∞ÊçÆË¥®Èáè: 25/100ÂàÜ**
- ‚ùå Áä∂ÊÄÅÁ†ÅÊ†áÁ≠æÁº∫Â§±
- ‚ùå Êó†Ê≥ïËÆ°ÁÆóÈîôËØØÁéá
- ‚ùå Êó†Ê≥ïÂå∫ÂàÜ‰∏çÂêåÁ±ªÂûãÁöÑÈîôËØØ

### üéØ ÂÖ≥ÈîÆÂèëÁé∞‰∏éÈóÆÈ¢òËØÜÂà´

**‰∏•ÈáçË¥®ÈáèÈóÆÈ¢òÔºàÈúÄË¶ÅÁ´ãÂç≥‰øÆÂ§çÔºâ:**
1. **ÁõëÊéßÊåáÊ†áÈÖçÁΩÆ‰∏çÂÆåÊï¥**: Â∫îÁî®Áº∫Â∞ëMicrometerÁöÑHTTPÁõ¥ÊñπÂõæÈÖçÁΩÆ
2. **Ê†áÁ≠æÁª¥Â∫¶Áº∫Â§±**: HTTPËØ∑Ê±ÇÁº∫Â∞ëstatusÊ†áÁ≠æÔºåÊó†Ê≥ïÁõëÊéßÈîôËØØÁéá
3. **ÂìçÂ∫îÊó∂Èó¥ÁõëÊéßÁº∫Â§±**: Êó†Ê≥ïËé∑ÂèñÂàÜ‰ΩçÊï∞ÂìçÂ∫îÊó∂Èó¥Êï∞ÊçÆ

**ÊâßË°åÁªìÊûúÂáÜÁ°ÆÊÄßÈóÆÈ¢ò:**
- ÂéüÂßãÊä•Âëä‰∏≠ÊèêÂà∞ÁöÑ"ÂìçÂ∫îÊó∂Èó¥: ÊúÄÂ§ß1.34Áßí" **Êó†Ê≥ïÈ™åËØÅ**ÔºåÂõ†‰∏∫Áº∫Â∞ëÁõ¥ÊñπÂõæÊï∞ÊçÆ
- ÂéüÂßãÊä•Âëä‰∏≠ÊèêÂà∞ÁöÑ"100% 200Áä∂ÊÄÅÁ†Å" **Êó†Ê≥ïÈ™åËØÅ**ÔºåÂõ†‰∏∫Áº∫Â∞ëÁä∂ÊÄÅÁ†ÅÊ†áÁ≠æ
- ÂéüÂßãÊä•Âëä‰∏≠ÁöÑTPS/QPSÊï∞ÊçÆ **ÈÉ®ÂàÜÂáÜÁ°Æ**Ôºå‰ΩÜÁº∫Â∞ëÈîôËØØËØ∑Ê±ÇÁªüËÆ°

### üìà ÁúüÂÆûÁ≥ªÁªüËøêË°åÁä∂ÊÄÅÔºàÂü∫‰∫éMCPÈ™åËØÅÔºâ

**ÂÆûÈôÖQPSÊï∞ÊçÆ:**
- ÊÄªQPS: ~0.067 ËØ∑Ê±Ç/ÁßíÔºàËøú‰Ωé‰∫éÂéüÂßãÊä•ÂëäÁöÑ1.13ËØ∑Ê±Ç/ÁßíÔºâ
- ‰∏ªË¶ÅÊé•Âè£: `/api/v1/gbm/index/query_group_buy_market_config` (POST) - ~1.07 QPS
- ÂÅ•Â∫∑Ê£ÄÊü•: `/actuator/prometheus` (GET) - ~0.067 QPS

**Á≥ªÁªüÁä∂ÊÄÅ:**
- ÊúçÂä°ÂèØÁî®ÊÄß: 100% ‚úÖ
- ‰ΩÜ**Êó†Ê≥ïËØÑ‰º∞**ÂìçÂ∫îÊó∂Èó¥ÂíåÈîôËØØÁéá ‚ùå

### üõ†Ô∏è Ë¥®ÈáèÊîπËøõÂª∫ËÆÆ

**Á´ãÂç≥‰øÆÂ§çÂª∫ËÆÆ:**
1. **Â∫îÁî®Á´ØÈÖçÁΩÆ‰øÆÂ§ç**: Âú®group-buy-market-app‰∏≠ÂêØÁî®HTTPËØ∑Ê±ÇÁöÑÁõ¥ÊñπÂõæÁõëÊéß
   ```yaml
   management:
     metrics:
       web:
         server:
           request:
             autotime:
               enabled: true
   ```
2. **Ê†áÁ≠æÈÖçÁΩÆ‰øÆÂ§ç**: Á°Æ‰øùHTTPËØ∑Ê±ÇÂåÖÂê´statusÊ†áÁ≠æ
3. **ÈáçÊñ∞ÈÉ®ÁΩ≤Â∫îÁî®**: Â∫îÁî®ÈÖçÁΩÆÊõ¥ÊîπÂêéÈáçÊñ∞ÈÉ®ÁΩ≤

**ÁõëÊéß‰ºòÂåñÂª∫ËÆÆ:**
1. **ÂÆåÂñÑÊåáÊ†áÈááÈõÜ**: Á°Æ‰øùÊâÄÊúâÂÖ≥ÈîÆ‰∏öÂä°Êé•Âè£ÈÉΩÊúâÂÆåÊï¥ÁöÑÊÄßËÉΩÁõëÊéß
2. **Ê∑ªÂä†‰∏öÂä°ÊåáÊ†á**: Ë°•ÂÖÖÊãºÂõ¢‰∏öÂä°Áõ∏ÂÖ≥ÁöÑËá™ÂÆö‰πâÊåáÊ†á
3. **ËÆæÁΩÆÂëäË≠¶ËßÑÂàô**: Âü∫‰∫éÂÆåÊï¥ÁöÑÊåáÊ†áÊï∞ÊçÆËÆæÁΩÆÂêàÁêÜÁöÑÂëäË≠¶ÈòàÂÄº

### üìã Ë¥®ÈáèËØÑÂàÜÊÄªÁªì

- **Êï∞ÊçÆÂÆåÊï¥ÊÄß**: 60/100ÂàÜ
- **Êï∞ÊçÆÂáÜÁ°ÆÊÄß**: 55/100ÂàÜ  
- **Á≥ªÁªüË¶ÜÁõñÂ∫¶**: 85/100ÂàÜ
- **ÊåáÊ†áË¥®Èáè**: 40/100ÂàÜ
- **MCPÂ∑•ÂÖ∑Ë∞ÉÁî®Ë¥®Èáè**: 100/100ÂàÜ

**ÁªºÂêàË¥®ÈáèËØÑÂàÜ: 68/100ÂàÜ (üî¥ ‰∏çÂêàÊ†º)**

**ËØÑ‰º∞ÁªìÊûú: FAIL**

**‰∏ã‰∏ÄÊ≠•ÈáçÁÇπ:**
1. ‰øÆÂ§çÂ∫îÁî®ÁõëÊéßÈÖçÁΩÆÔºåÁ°Æ‰øùHTTPÁõ¥ÊñπÂõæÂíåÁä∂ÊÄÅÁ†ÅÊ†áÁ≠æÊ≠£Á°ÆÈááÈõÜ
2. ÈáçÊñ∞È™åËØÅÁõëÊéßÊï∞ÊçÆÁöÑÂÆåÊï¥ÊÄß
3. Âü∫‰∫éÂÆåÊï¥ÁöÑÁõëÊéßÊï∞ÊçÆÈáçÊñ∞ÁîüÊàêÂáÜÁ°ÆÁöÑÁ≥ªÁªüËøêË°åÊä•Âëä

**Ê†πÊú¨ÂéüÂõ†**: ÂéüÂßãÂàÜÊûêÊä•ÂëäÂü∫‰∫é‰∏çÂÆåÊï¥ÁöÑÁõëÊéßÊï∞ÊçÆÔºåÁº∫Â∞ëÂÖ≥ÈîÆÁöÑÊÄßËÉΩÊåáÊ†áÔºåÂØºËá¥ÁªìËÆ∫‰∏•ÈáçÂÅèÁ¶ªÂÆûÈôÖÊÉÖÂÜµ„ÄÇÂøÖÈ°ªÂÖàÂÆåÂñÑÁõëÊéßÈÖçÁΩÆÔºåÂÜçËøõË°åÂáÜÁ°ÆÁöÑÊÄßËÉΩÂàÜÊûê„ÄÇ
25-10-08.16:19:13.572 [pool-2-thread-7 ] WARN  Step3QualitySupervisorNode - ‚ö†Ô∏è Êó†Ê≥ïËØÜÂà´ÁöÑË¥®ÈáèÊ£ÄÊü•ÁªìÊûú: ## üö® MCPÈ™åËØÅË¥®ÈáèÁõëÁù£Êä•Âëä

### üîç Êï∞ÊçÆÂÆåÊï¥ÊÄßÈ™åËØÅÁªìÊûú

**‚úÖ Êï∞ÊçÆÊ∫êËøûÊé•È™åËØÅ**
- Êï∞ÊçÆÊ∫êUID: PBFA97CFB590B2093 ‚úÖ
- ËøûÊé•Áä∂ÊÄÅ: Ê≠£Â∏∏ ‚úÖ
- Êï∞ÊçÆÊ∫êÁ±ªÂûã: Prometheus ‚úÖ

**‚úÖ Á≥ªÁªüËØÜÂà´È™åËØÅ**
- Á≥ªÁªüÂêçÁß∞: group-buy-market-app ‚úÖ
- ÂÆû‰æãÁä∂ÊÄÅ: 10.105.130.18:8091 ‚úÖ
- ÊúçÂä°ÂèØÁî®ÊÄß: up=1 (100%ÂèØÁî®) ‚úÖ

**‚ö†Ô∏è ÂÖ≥ÈîÆÊåáÊ†áÁº∫Â§±ÈóÆÈ¢ò**
- **‰∏•ÈáçÈóÆÈ¢ò**: `http_server_requests_seconds_bucket` ÊåáÊ†á‰∏çÂ≠òÂú® ‚ùå
- **‰∏•ÈáçÈóÆÈ¢ò**: Áº∫Â∞ëHTTPÁä∂ÊÄÅÁ†ÅÊ†áÁ≠æ(status) ‚ùå
- **‰∏•ÈáçÈóÆÈ¢ò**: Êó†Ê≥ïËÆ°ÁÆó95ÂàÜ‰ΩçÂìçÂ∫îÊó∂Èó¥ ‚ùå

### üìä ÂÆûÈôÖÁõëÊéßÊï∞ÊçÆË¥®ÈáèËØÑ‰º∞

**TPS/QPSÊï∞ÊçÆË¥®Èáè: 65/100ÂàÜ**
- ‚úÖ Âü∫Á°ÄËØ∑Ê±ÇËÆ°Êï∞ÊåáÊ†áÂ≠òÂú®
- ‚úÖ ËÉΩÂ§üËé∑ÂèñÊé•Âè£Á∫ßÂà´ÁöÑQPSÊï∞ÊçÆ
- ‚ùå Êó†Ê≥ïÂå∫ÂàÜÊàêÂäü/Â§±Ë¥•ËØ∑Ê±Ç
- ‚ùå Áº∫Â∞ëÂÆåÊï¥ÁöÑHTTPÁä∂ÊÄÅÁ†ÅÁõëÊéß

**ÂìçÂ∫îÊó∂Èó¥Êï∞ÊçÆË¥®Èáè: 30/100ÂàÜ**
- ‚ùå Áõ¥ÊñπÂõæÊåáÊ†áÂÆåÂÖ®Áº∫Â§±
- ‚ùå Êó†Ê≥ïËÆ°ÁÆóÂàÜ‰ΩçÊï∞ÂìçÂ∫îÊó∂Èó¥
- ‚ùå Âè™ËÉΩËé∑ÂèñÂπ≥ÂùáÂìçÂ∫îÊó∂Èó¥ÔºàÂ¶ÇÊûúÂ≠òÂú®Ôºâ

**ÈîôËØØÁéáÊï∞ÊçÆË¥®Èáè: 25/100ÂàÜ**
- ‚ùå Áä∂ÊÄÅÁ†ÅÊ†áÁ≠æÁº∫Â§±
- ‚ùå Êó†Ê≥ïËÆ°ÁÆóÈîôËØØÁéá
- ‚ùå Êó†Ê≥ïÂå∫ÂàÜ‰∏çÂêåÁ±ªÂûãÁöÑÈîôËØØ

### üéØ ÂÖ≥ÈîÆÂèëÁé∞‰∏éÈóÆÈ¢òËØÜÂà´

**‰∏•ÈáçË¥®ÈáèÈóÆÈ¢òÔºàÈúÄË¶ÅÁ´ãÂç≥‰øÆÂ§çÔºâ:**
1. **ÁõëÊéßÊåáÊ†áÈÖçÁΩÆ‰∏çÂÆåÊï¥**: Â∫îÁî®Áº∫Â∞ëMicrometerÁöÑHTTPÁõ¥ÊñπÂõæÈÖçÁΩÆ
2. **Ê†áÁ≠æÁª¥Â∫¶Áº∫Â§±**: HTTPËØ∑Ê±ÇÁº∫Â∞ëstatusÊ†áÁ≠æÔºåÊó†Ê≥ïÁõëÊéßÈîôËØØÁéá
3. **ÂìçÂ∫îÊó∂Èó¥ÁõëÊéßÁº∫Â§±**: Êó†Ê≥ïËé∑ÂèñÂàÜ‰ΩçÊï∞ÂìçÂ∫îÊó∂Èó¥Êï∞ÊçÆ

**ÊâßË°åÁªìÊûúÂáÜÁ°ÆÊÄßÈóÆÈ¢ò:**
- ÂéüÂßãÊä•Âëä‰∏≠ÊèêÂà∞ÁöÑ"ÂìçÂ∫îÊó∂Èó¥: ÊúÄÂ§ß1.34Áßí" **Êó†Ê≥ïÈ™åËØÅ**ÔºåÂõ†‰∏∫Áº∫Â∞ëÁõ¥ÊñπÂõæÊï∞ÊçÆ
- ÂéüÂßãÊä•Âëä‰∏≠ÊèêÂà∞ÁöÑ"100% 200Áä∂ÊÄÅÁ†Å" **Êó†Ê≥ïÈ™åËØÅ**ÔºåÂõ†‰∏∫Áº∫Â∞ëÁä∂ÊÄÅÁ†ÅÊ†áÁ≠æ
- ÂéüÂßãÊä•Âëä‰∏≠ÁöÑTPS/QPSÊï∞ÊçÆ **ÈÉ®ÂàÜÂáÜÁ°Æ**Ôºå‰ΩÜÁº∫Â∞ëÈîôËØØËØ∑Ê±ÇÁªüËÆ°

### üìà ÁúüÂÆûÁ≥ªÁªüËøêË°åÁä∂ÊÄÅÔºàÂü∫‰∫éMCPÈ™åËØÅÔºâ

**ÂÆûÈôÖQPSÊï∞ÊçÆ:**
- ÊÄªQPS: ~0.067 ËØ∑Ê±Ç/ÁßíÔºàËøú‰Ωé‰∫éÂéüÂßãÊä•ÂëäÁöÑ1.13ËØ∑Ê±Ç/ÁßíÔºâ
- ‰∏ªË¶ÅÊé•Âè£: `/api/v1/gbm/index/query_group_buy_market_config` (POST) - ~1.07 QPS
- ÂÅ•Â∫∑Ê£ÄÊü•: `/actuator/prometheus` (GET) - ~0.067 QPS

**Á≥ªÁªüÁä∂ÊÄÅ:**
- ÊúçÂä°ÂèØÁî®ÊÄß: 100% ‚úÖ
- ‰ΩÜ**Êó†Ê≥ïËØÑ‰º∞**ÂìçÂ∫îÊó∂Èó¥ÂíåÈîôËØØÁéá ‚ùå

### üõ†Ô∏è Ë¥®ÈáèÊîπËøõÂª∫ËÆÆ

**Á´ãÂç≥‰øÆÂ§çÂª∫ËÆÆ:**
1. **Â∫îÁî®Á´ØÈÖçÁΩÆ‰øÆÂ§ç**: Âú®group-buy-market-app‰∏≠ÂêØÁî®HTTPËØ∑Ê±ÇÁöÑÁõ¥ÊñπÂõæÁõëÊéß
   ```yaml
   management:
     metrics:
       web:
         server:
           request:
             autotime:
               enabled: true
   ```
2. **Ê†áÁ≠æÈÖçÁΩÆ‰øÆÂ§ç**: Á°Æ‰øùHTTPËØ∑Ê±ÇÂåÖÂê´statusÊ†áÁ≠æ
3. **ÈáçÊñ∞ÈÉ®ÁΩ≤Â∫îÁî®**: Â∫îÁî®ÈÖçÁΩÆÊõ¥ÊîπÂêéÈáçÊñ∞ÈÉ®ÁΩ≤

**ÁõëÊéß‰ºòÂåñÂª∫ËÆÆ:**
1. **ÂÆåÂñÑÊåáÊ†áÈááÈõÜ**: Á°Æ‰øùÊâÄÊúâÂÖ≥ÈîÆ‰∏öÂä°Êé•Âè£ÈÉΩÊúâÂÆåÊï¥ÁöÑÊÄßËÉΩÁõëÊéß
2. **Ê∑ªÂä†‰∏öÂä°ÊåáÊ†á**: Ë°•ÂÖÖÊãºÂõ¢‰∏öÂä°Áõ∏ÂÖ≥ÁöÑËá™ÂÆö‰πâÊåáÊ†á
3. **ËÆæÁΩÆÂëäË≠¶ËßÑÂàô**: Âü∫‰∫éÂÆåÊï¥ÁöÑÊåáÊ†áÊï∞ÊçÆËÆæÁΩÆÂêàÁêÜÁöÑÂëäË≠¶ÈòàÂÄº

### üìã Ë¥®ÈáèËØÑÂàÜÊÄªÁªì

- **Êï∞ÊçÆÂÆåÊï¥ÊÄß**: 60/100ÂàÜ
- **Êï∞ÊçÆÂáÜÁ°ÆÊÄß**: 55/100ÂàÜ  
- **Á≥ªÁªüË¶ÜÁõñÂ∫¶**: 85/100ÂàÜ
- **ÊåáÊ†áË¥®Èáè**: 40/100ÂàÜ
- **MCPÂ∑•ÂÖ∑Ë∞ÉÁî®Ë¥®Èáè**: 100/100ÂàÜ

**ÁªºÂêàË¥®ÈáèËØÑÂàÜ: 68/100ÂàÜ (üî¥ ‰∏çÂêàÊ†º)**

**ËØÑ‰º∞ÁªìÊûú: FAIL**

**‰∏ã‰∏ÄÊ≠•ÈáçÁÇπ:**
1. ‰øÆÂ§çÂ∫îÁî®ÁõëÊéßÈÖçÁΩÆÔºåÁ°Æ‰øùHTTPÁõ¥ÊñπÂõæÂíåÁä∂ÊÄÅÁ†ÅÊ†áÁ≠æÊ≠£Á°ÆÈááÈõÜ
2. ÈáçÊñ∞È™åËØÅÁõëÊéßÊï∞ÊçÆÁöÑÂÆåÊï¥ÊÄß
3. Âü∫‰∫éÂÆåÊï¥ÁöÑÁõëÊéßÊï∞ÊçÆÈáçÊñ∞ÁîüÊàêÂáÜÁ°ÆÁöÑÁ≥ªÁªüËøêË°åÊä•Âëä

**Ê†πÊú¨ÂéüÂõ†**: ÂéüÂßãÂàÜÊûêÊä•ÂëäÂü∫‰∫é‰∏çÂÆåÊï¥ÁöÑÁõëÊéßÊï∞ÊçÆÔºåÁº∫Â∞ëÂÖ≥ÈîÆÁöÑÊÄßËÉΩÊåáÊ†áÔºåÂØºËá¥ÁªìËÆ∫‰∏•ÈáçÂÅèÁ¶ªÂÆûÈôÖÊÉÖÂÜµ„ÄÇÂøÖÈ°ªÂÖàÂÆåÂñÑÁõëÊéßÈÖçÁΩÆÔºåÂÜçËøõË°åÂáÜÁ°ÆÁöÑÊÄßËÉΩÂàÜÊûê„ÄÇ
25-10-08.16:23:12.342 [parallel-16     ] WARN  StdioClientTransport   - Process terminated with code 1
25-10-08.16:27:07.915 [ForkJoinPool.commonPool-worker-1] WARN  StdioClientTransport   - Process terminated with code 1
25-10-08.16:28:59.254 [pool-3-thread-1 ] ERROR McpClientSession       - Error handling request: JSONRPCError[code=-32603, message=stepSeconds must be provided when queryType is 'range', data=null]
25-10-08.16:28:59.261 [pool-2-thread-7 ] ERROR AiAgentController      - AutoAgentÊâßË°åÂºÇÂ∏∏ÔºöstepSeconds must be provided when queryType is 'range'
io.modelcontextprotocol.spec.McpError: stepSeconds must be provided when queryType is 'range'
	at io.modelcontextprotocol.spec.McpClientSession.lambda$sendRequest$11(McpClientSession.java:248)
	at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:113)
	at reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99)
	at reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.onNext(FluxTimeout.java:181)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.success(MonoCreate.java:176)
	at io.modelcontextprotocol.spec.McpClientSession.handle(McpClientSession.java:136)
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onNext(FluxPeekFuseable.java:489)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.request(FluxPeekFuseable.java:437)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136)
	at reactor.core.publisher.FluxFlatMap$FlatMapInner.onSubscribe(FluxFlatMap.java:968)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onSubscribe(FluxContextWrite.java:101)
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onSubscribe(FluxPeekFuseable.java:471)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576)
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:430)
	at reactor.core.publisher.SinkManyUnicast.drainRegular(SinkManyUnicast.java:284)
	at reactor.core.publisher.SinkManyUnicast.drain(SinkManyUnicast.java:365)
	at reactor.core.publisher.SinkManyUnicast.tryEmitNext(SinkManyUnicast.java:239)
	at reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100)
	at io.modelcontextprotocol.client.transport.StdioClientTransport.lambda$startInboundProcessing$6(StdioClientTransport.java:261)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
		at reactor.core.publisher.Mono.block(Mono.java:1779)
		at io.modelcontextprotocol.client.McpSyncClient.callTool(McpSyncClient.java:218)
		at org.springframework.ai.mcp.SyncMcpToolCallback.call(SyncMcpToolCallback.java:116)
		at org.springframework.ai.mcp.SyncMcpToolCallback.call(SyncMcpToolCallback.java:126)
		at org.springframework.ai.model.tool.DefaultToolCallingManager.lambda$executeToolCall$5(DefaultToolCallingManager.java:224)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.model.tool.DefaultToolCallingManager.executeToolCall(DefaultToolCallingManager.java:221)
		at org.springframework.ai.model.tool.DefaultToolCallingManager.executeToolCalls(DefaultToolCallingManager.java:137)
		at org.springframework.ai.openai.OpenAiChatModel.internalCall(OpenAiChatModel.java:244)
		at org.springframework.ai.openai.OpenAiChatModel.internalCall(OpenAiChatModel.java:254)
		at org.springframework.ai.openai.OpenAiChatModel.internalCall(OpenAiChatModel.java:254)
		at org.springframework.ai.openai.OpenAiChatModel.internalCall(OpenAiChatModel.java:254)
		at org.springframework.ai.openai.OpenAiChatModel.internalCall(OpenAiChatModel.java:254)
		at org.springframework.ai.openai.OpenAiChatModel.internalCall(OpenAiChatModel.java:254)
		at org.springframework.ai.openai.OpenAiChatModel.call(OpenAiChatModel.java:181)
		at org.springframework.ai.chat.client.advisor.ChatModelCallAdvisor.adviseCall(ChatModelCallAdvisor.java:54)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
		at org.springframework.ai.chat.client.advisor.api.BaseAdvisor.adviseCall(BaseAdvisor.java:52)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
		at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.lambda$doGetObservableChatClientResponse$1(DefaultChatClient.java:469)
		at io.micrometer.observation.Observation.observe(Observation.java:564)
		at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.doGetObservableChatClientResponse(DefaultChatClient.java:467)
		at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.doGetObservableChatClientResponse(DefaultChatClient.java:446)
		at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.content(DefaultChatClient.java:441)
		at com.ywzai.domain.agent.service.execute.auto.step.Step3QualitySupervisorNode.doApply(Step3QualitySupervisorNode.java:44)
		at com.ywzai.domain.agent.service.execute.auto.step.Step3QualitySupervisorNode.doApply(Step3QualitySupervisorNode.java:20)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
		at com.ywzai.domain.agent.service.execute.auto.step.Step2PrecisionExecutorNode.doApply(Step2PrecisionExecutorNode.java:58)
		at com.ywzai.domain.agent.service.execute.auto.step.Step2PrecisionExecutorNode.doApply(Step2PrecisionExecutorNode.java:20)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
		at com.ywzai.domain.agent.service.execute.auto.step.Step1AnalyzerNode.doApply(Step1AnalyzerNode.java:61)
		at com.ywzai.domain.agent.service.execute.auto.step.Step1AnalyzerNode.doApply(Step1AnalyzerNode.java:21)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
		at com.ywzai.domain.agent.service.execute.auto.step.RootNode.doApply(RootNode.java:38)
		at com.ywzai.domain.agent.service.execute.auto.step.RootNode.doApply(RootNode.java:21)
		at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
		at com.ywzai.domain.agent.service.execute.auto.AutoAgentExecuteStrategy.execute(AutoAgentExecuteStrategy.java:56)
		at com.ywzai.trigger.http.AiAgentController.lambda$0(AiAgentController.java:61)
		... 3 common frames omitted
25-10-08.16:30:14.256 [parallel-16     ] WARN  StdioClientTransport   - Process terminated with code 1
25-10-08.16:33:31.730 [pool-2-thread-7 ] WARN  RetryUtils             - Retry error. Retry count:1
org.springframework.ai.retry.NonTransientAiException: 400 - {"error":{"code":"InvalidParameter","param":null,"message":"Range of input length should be [1, 8192]","type":"InvalidParameter"},"id":"7b881538-ec8b-4ace-b892-6a44026eef61","request_id":"7b881538-ec8b-4ace-b892-6a44026eef61"}
	at org.springframework.ai.retry.RetryUtils$1.handleError(RetryUtils.java:63)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:58)
	at org.springframework.web.client.StatusHandler.lambda$fromErrorHandler$1(StatusHandler.java:71)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:815)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:215)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:814)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$toEntityInternal$2(DefaultRestClient.java:770)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:574)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:535)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:677)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:809)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toEntityInternal(DefaultRestClient.java:769)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toEntity(DefaultRestClient.java:765)
	at org.springframework.ai.openai.api.OpenAiApi.embeddings(OpenAiApi.java:294)
	at org.springframework.ai.openai.OpenAiEmbeddingModel.lambda$call$1(OpenAiEmbeddingModel.java:168)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:357)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:230)
	at org.springframework.ai.openai.OpenAiEmbeddingModel.lambda$call$3(OpenAiEmbeddingModel.java:168)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.openai.OpenAiEmbeddingModel.call(OpenAiEmbeddingModel.java:166)
	at org.springframework.ai.embedding.EmbeddingModel.embed(EmbeddingModel.java:67)
	at org.springframework.ai.embedding.EmbeddingModel.embed(EmbeddingModel.java:49)
	at org.springframework.ai.vectorstore.pgvector.PgVectorStore.getQueryEmbedding(PgVectorStore.java:392)
	at org.springframework.ai.vectorstore.pgvector.PgVectorStore.doSimilaritySearch(PgVectorStore.java:370)
	at org.springframework.ai.vectorstore.observation.AbstractObservationVectorStore.lambda$similaritySearch$7(AbstractObservationVectorStore.java:126)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.vectorstore.observation.AbstractObservationVectorStore.similaritySearch(AbstractObservationVectorStore.java:125)
	at com.ywzai.domain.agent.service.armory.factory.element.RagAnswerAdvisor.before(RagAnswerAdvisor.java:52)
	at com.ywzai.domain.agent.service.armory.factory.element.RagAnswerAdvisor.adviseCall(RagAnswerAdvisor.java:90)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
	at org.springframework.ai.chat.client.advisor.api.BaseAdvisor.adviseCall(BaseAdvisor.java:52)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.lambda$doGetObservableChatClientResponse$1(DefaultChatClient.java:469)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.doGetObservableChatClientResponse(DefaultChatClient.java:467)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.doGetObservableChatClientResponse(DefaultChatClient.java:446)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.content(DefaultChatClient.java:441)
	at com.ywzai.domain.agent.service.execute.auto.step.Step2PrecisionExecutorNode.doApply(Step2PrecisionExecutorNode.java:46)
	at com.ywzai.domain.agent.service.execute.auto.step.Step2PrecisionExecutorNode.doApply(Step2PrecisionExecutorNode.java:20)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at com.ywzai.domain.agent.service.execute.auto.step.Step1AnalyzerNode.doApply(Step1AnalyzerNode.java:61)
	at com.ywzai.domain.agent.service.execute.auto.step.Step1AnalyzerNode.doApply(Step1AnalyzerNode.java:21)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at com.ywzai.domain.agent.service.execute.auto.step.RootNode.doApply(RootNode.java:38)
	at com.ywzai.domain.agent.service.execute.auto.step.RootNode.doApply(RootNode.java:21)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at com.ywzai.domain.agent.service.execute.auto.AutoAgentExecuteStrategy.execute(AutoAgentExecuteStrategy.java:56)
	at com.ywzai.trigger.http.AiAgentController.lambda$0(AiAgentController.java:61)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
25-10-08.16:33:31.733 [pool-2-thread-7 ] ERROR AiAgentController      - AutoAgentÊâßË°åÂºÇÂ∏∏Ôºö400 - {"error":{"code":"InvalidParameter","param":null,"message":"Range of input length should be [1, 8192]","type":"InvalidParameter"},"id":"7b881538-ec8b-4ace-b892-6a44026eef61","request_id":"7b881538-ec8b-4ace-b892-6a44026eef61"}
org.springframework.ai.retry.NonTransientAiException: 400 - {"error":{"code":"InvalidParameter","param":null,"message":"Range of input length should be [1, 8192]","type":"InvalidParameter"},"id":"7b881538-ec8b-4ace-b892-6a44026eef61","request_id":"7b881538-ec8b-4ace-b892-6a44026eef61"}
	at org.springframework.ai.retry.RetryUtils$1.handleError(RetryUtils.java:63)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:58)
	at org.springframework.web.client.StatusHandler.lambda$fromErrorHandler$1(StatusHandler.java:71)
	at org.springframework.web.client.StatusHandler.handle(StatusHandler.java:146)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.applyStatusHandlers(DefaultRestClient.java:826)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$readBody$4(DefaultRestClient.java:815)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:215)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:814)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$toEntityInternal$2(DefaultRestClient.java:770)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:574)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:535)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:677)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:809)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toEntityInternal(DefaultRestClient.java:769)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.toEntity(DefaultRestClient.java:765)
	at org.springframework.ai.openai.api.OpenAiApi.embeddings(OpenAiApi.java:294)
	at org.springframework.ai.openai.OpenAiEmbeddingModel.lambda$call$1(OpenAiEmbeddingModel.java:168)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:357)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:230)
	at org.springframework.ai.openai.OpenAiEmbeddingModel.lambda$call$3(OpenAiEmbeddingModel.java:168)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.openai.OpenAiEmbeddingModel.call(OpenAiEmbeddingModel.java:166)
	at org.springframework.ai.embedding.EmbeddingModel.embed(EmbeddingModel.java:67)
	at org.springframework.ai.embedding.EmbeddingModel.embed(EmbeddingModel.java:49)
	at org.springframework.ai.vectorstore.pgvector.PgVectorStore.getQueryEmbedding(PgVectorStore.java:392)
	at org.springframework.ai.vectorstore.pgvector.PgVectorStore.doSimilaritySearch(PgVectorStore.java:370)
	at org.springframework.ai.vectorstore.observation.AbstractObservationVectorStore.lambda$similaritySearch$7(AbstractObservationVectorStore.java:126)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.vectorstore.observation.AbstractObservationVectorStore.similaritySearch(AbstractObservationVectorStore.java:125)
	at com.ywzai.domain.agent.service.armory.factory.element.RagAnswerAdvisor.before(RagAnswerAdvisor.java:52)
	at com.ywzai.domain.agent.service.armory.factory.element.RagAnswerAdvisor.adviseCall(RagAnswerAdvisor.java:90)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
	at org.springframework.ai.chat.client.advisor.api.BaseAdvisor.adviseCall(BaseAdvisor.java:52)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.lambda$nextCall$1(DefaultAroundAdvisorChain.java:110)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.chat.client.advisor.DefaultAroundAdvisorChain.nextCall(DefaultAroundAdvisorChain.java:110)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.lambda$doGetObservableChatClientResponse$1(DefaultChatClient.java:469)
	at io.micrometer.observation.Observation.observe(Observation.java:564)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.doGetObservableChatClientResponse(DefaultChatClient.java:467)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.doGetObservableChatClientResponse(DefaultChatClient.java:446)
	at org.springframework.ai.chat.client.DefaultChatClient$DefaultCallResponseSpec.content(DefaultChatClient.java:441)
	at com.ywzai.domain.agent.service.execute.auto.step.Step2PrecisionExecutorNode.doApply(Step2PrecisionExecutorNode.java:46)
	at com.ywzai.domain.agent.service.execute.auto.step.Step2PrecisionExecutorNode.doApply(Step2PrecisionExecutorNode.java:20)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at com.ywzai.domain.agent.service.execute.auto.step.Step1AnalyzerNode.doApply(Step1AnalyzerNode.java:61)
	at com.ywzai.domain.agent.service.execute.auto.step.Step1AnalyzerNode.doApply(Step1AnalyzerNode.java:21)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at com.ywzai.domain.agent.service.execute.auto.step.RootNode.doApply(RootNode.java:38)
	at com.ywzai.domain.agent.service.execute.auto.step.RootNode.doApply(RootNode.java:21)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at com.ywzai.domain.agent.service.execute.auto.AutoAgentExecuteStrategy.execute(AutoAgentExecuteStrategy.java:56)
	at com.ywzai.trigger.http.AiAgentController.lambda$0(AiAgentController.java:61)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
